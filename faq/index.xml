<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>FAQ on 腾讯云容器服务</title><link>https://book.kubetencent.io/faq/</link><description>Recent content in FAQ on 腾讯云容器服务</description><generator>Hugo -- gohugo.io</generator><language>zh</language><atom:link href="https://book.kubetencent.io/faq/index.xml" rel="self" type="application/rss+xml"/><item><title>EKS 常见问题</title><link>https://book.kubetencent.io/faq/eks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://book.kubetencent.io/faq/eks/</guid><description>EKS 支持 hostPath 吗 不支持。serverless，没有 node，也就没有 hostPath
EKS 支持 kubectl exec -it 来登录容器吗 在灰度，需要开白名单，请提工单或联系售后开白。
EKS 如何让所有 pod 时区保持一致 由于不支持 hostPath，所以不能用此方法来挂载时区文件，可以通过挂载 configmap 来实现。
先通过时区文件创建 configmap:
kubectl create cm timezone-configmap --from-file=/usr/share/zoneinfo/Asia/Shanghai 再在 pod 里挂载 configmap:
apiVersion: v1 kind: Pod metadata: name: tz-configmap namespace: default annotations: eks.tke.cloud.tencent.com/cpu: &amp;#34;1&amp;#34; eks.tke.cloud.tencent.com/mem: 2Gi spec: restartPolicy: OnFailure containers: - name: busy-box-test env: - name: TZ value: Asia/Shanghai image: busybox imagePullPolicy: IfNotPresent command: [&amp;#34;sleep&amp;#34;, &amp;#34;60000&amp;#34;] volumeMounts: - name: timezone mountPath: /etc/localtimeX subPath: Shanghai volumes: - configMap: name: timezone-configmap items: - key: Shanghai path: Shanghai name: timezone 注: 由于 configmap 是 namespace 隔离的，如果要所有 pod 都时区同步，需要在所有 namespace 都创建时区的 configmap</description></item><item><title>TKE 常见问题</title><link>https://book.kubetencent.io/faq/tke/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://book.kubetencent.io/faq/tke/</guid><description>为什么挂载的 CFS 容量是 10G 创建负载的时候可以挂载 NFS，如果使用 CFS 提供的 NFS 服务，当 NFS 被挂载好去查看实际容量时发现是 10G。
原因是: nfs的盘，默认的挂载大小为10G，支持自动扩容
cfs 扩容方式: 小于1T，容量到50%触发自动扩容，每次加100G; 大于 1T,到80%触发自动扩容。每次加500G
cfs 收费方式: 计费是根据实际的使用量，小于10G不收费，多于10G开始收费
为什么 controller-manager 和 scheduler 状态显示 Unhealthy kubectl get cs NAME STATUS MESSAGE ERROR scheduler Unhealthy Get http://127.0.0.1:10251/healthz: dial tcp 127.0.0.1:10251: getsockopt: connection refused controller-manager Unhealthy Get http://127.0.0.1:10252/healthz: dial tcp 127.0.0.1:10252: getsockopt: connection refused etcd-0 Healthy {&amp;#34;health&amp;#34;: &amp;#34;true&amp;#34;} 查看组件状态发现 controller-manager 和 scheduler 状态显示 Unhealthy，但是集群正常工作，是因为TKE metacluster托管方式集群的 apiserver 与 controller-manager 和 scheduler 不在同一个节点导致的，这个不影响功能。如果发现是 Healthy 说明 apiserver 跟它们部署在同一个节点，所以这个取决于部署方式。</description></item><item><title>镜像仓库常见问题</title><link>https://book.kubetencent.io/faq/registry/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://book.kubetencent.io/faq/registry/</guid><description>可以将自建的 harbor 镜像仓库同步到同步到 ccr 吗 当前 harbor 1.9 及以上可以直接在管理页面配置同步到 ccr，选择 docker registry 类型(ccr 兼容 registry 协议)。</description></item></channel></rss>